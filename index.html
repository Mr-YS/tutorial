<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>tutorial</title>
    <style>
      #circle {
        position: absolute;
        top: 50vh;
        left: 50vw;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        background: red;
        margin-top: -50px;
        margin-left:-50px;
      }

      #box {
        position: absolute;
        top: 50vh;
        left: 50vw;
        width: 1400px;
        height: 700px;
        border-radius: 25px;
        margin-top: -350px;
        margin-left: -700px;
        border-style: dashed;
        border-width: 10px;
        border-color: gray;
        box-sizing: border-box;
      }
    </style>
  </head>
  <body onkeydown="key();" onmousemove="mouseMove();">
    <div id="circle"></div>
    <div id="box"></div>
    <span id="result"></span>

    <script>
      var circle = document.getElementById('circle');
      var result = document.getElementById('result');
      var clientCircle = circle.getBoundingClientRect();
      var circleClientX = Math.floor(clientCircle.left);
      var circleClientY = Math.floor(clientCircle.top);
      function mouseMove() {
        result.innerHTML ='mouse-client : '+event.clientX+','+event.clientY+
                          '<br>rect-client :'
                          +circleClientX+','+circleClientY;
      }

      function key() {
        switch (event.keyCode) {
          case 27: window.close(); break; // ESC
          case 69: changeColor(); break; // E
        }
      }

      function changeColor() {
        var colors = [ 'red', 'orange', 'blue', 'cyan', 'yellowgreen' ];
        var i = Math.floor(Math.random() * 5)
        circle.style.background = colors[i];
      }

      var x = 0, y = 0;
      setInterval(function() {
        if (650 < x) { x = 650; }
        if (-650 > x) { x = -650; }
        if (300 < y) { y = 300; }
        if (-300 > y) { y = -300; }
        circle.style.marginLeft = (x - 50) + 'px';
        circle.style.marginTop = (y - 50) + 'px';
      }, 16);
    </script>
  </body>
</html>
